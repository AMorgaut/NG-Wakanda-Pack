<!doctype html>
<html ng-app="playAngular">

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Angular-Wakanda - Bootstrap</title>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="/libs/bootstrap.min.css">
    <link rel="stylesheet" href="./styles.css">
  </head>

  <body ng-controller="PlayController">

    <header class="container-fluid page-header">
      <h1>Angular-Wakanda - Bootstrap</h1>
    </header>

    <div id="main" class="row container-fluid page-body">

      <div class="col-md-3 col-sm-6 col-xs-12">
        <section class="panel panel-default">
          <div  class="panel-heading">
            <h2>Countries</h2>
          </div>
          <div  class="panel-body">
            <p>All <span class="badge">{{countries.$totalCount}}</span></p>
            <div class="input-group">
              <span class="input-group-btn"><button class="btn btn-default" type="button" disabled>Filter</button></span>
              <input type="text" class="form-control" ng-model="filter.Country" ng-change="setFilter('Country')">
            </div>
          </div>
          <table class="table table-striped table-hover">
            <tbody>
              <tr ng-repeat="country in countries" class="{{country.selected && 'info'}}">
                <td ng-click="switchCurrentEntity('Country', country)">{{country.name}}</td>
              </tr>
            <tbody>
          </table>
        </section>
      </div>

      <div class="col-md-3 col-sm-6 col-xs-12">
        <section class="panel panel-default">
          <div  class="panel-heading">
            <h2>Companies</h2>
          </div>
          <div class="panel-body">
            <p>From <strong>{{current.Country.name}}</strong> <span class="badge">{{companies.$totalCount}}</span></p>
            <div class="input-group">
              <span class="input-group-btn"><button class="btn btn-default" type="button" disabled>Filter</button></span>
              <input type="text" class="form-control" ng-model="filter.Company" ng-change="setFilter('Company')">
            </div>
          </div>
          <div>
            <table class="table table-striped table-hover">
              <tbody when-scrolled="companies.$more()">
                <tr ng-repeat="company in companies" class="{{company.selected && 'info'}}">
                  <td ng-click="switchCurrentEntity('Company', company)">{{company.name}}</td>
                </tr>
              <tbody>
            </table>
          </div>
        </section>
      </div>

      <div class="col-md-3 col-sm-6 col-xs-12">
        <section class="panel panel-default">
          <div  class="panel-heading">
            <h2>Employees</h2>
          </div>
          <div  class="panel-body">
            <p>From <strong>{{current.Company.name}}</strong> <span class="badge">{{employees.$totalCount}}</span></p>
            <div class="input-group">
              <span class="input-group-btn"><button class="btn btn-default" type="button" disabled>Filter</button></span>
              <input type="text" class="form-control" ng-model="filter.Employee" ng-change="setFilter('Employee')">
            </div>
          </div>
          <div>
            <table class="table table-striped table-hover">
              <tbody when-scrolled="employees.$more()">
                <tr ng-repeat="employee in employees" class="{{employee.selected && 'info'}}">
                  <td ng-click="switchCurrentEntity('Employee', employee)">{{employee.fullName}}</td>
                </tr>
              <tbody>
            </table>
          </div>
        </section>
      </div>

      <div class="col-md-3 col-sm-6 col-xs-12">
        <section class="panel panel-default">
          <div  class="panel-heading">
            <h2>Employee Details</h2>
          </div>
          <div  class="panel-body">
            <p>From <strong>{{current.Employee.fullName}}</strong></p>
            <p><img ng-src="{{current.Employee.photo.src}}" class="img-thumbnail"></p>
            <p><strong>First Name</strong>: {{current.Employee.firstName}}</p>
            <p><strong>Last Name</strong>: {{current.Employee.lastName}}</p>
            <p><strong>Title</strong>: {{current.Employee.title}}</p>
            <p><strong>Salary</strong>: {{current.Employee.salary}}</p>
            <p><strong>Gender</strong>: {{current.Employee.gender}}</p>
            <p><strong>Age</strong>: {{current.Employee.age}}</p>
          </div>
        </section>
      </div>

    </div><!--main-->

    <script src="/libs/jquery-2.1.0.min.js"></script>
    <script src="/libs/bootstrap.min.js"></script>
    <script src="/libs/angular.min.js"></script>
    <script src="/libs/angular-wakanda.min.js"></script>
    <script src="/libs/ng-infinite-scroll.min.js"></script>
    <script src="./app.js"></script>
  </body>
</html>
